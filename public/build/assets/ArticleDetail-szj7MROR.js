import{d as T,o as j,a as r,c as l,e,t as a,b as m,w as p,f as b,g as x,F as A,k as V,p as i,q as $,s as D,r as E,z as L}from"./app-Dw84cB-k.js";import{g as h}from"./marked.esm-i_gIkIP3.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"min-h-screen bg-slate-950 text-slate-100"},B={key:0,class:"flex items-center justify-center min-h-screen"},F={key:1,class:"flex items-center justify-center min-h-screen px-6"},I={class:"max-w-md w-full rounded-2xl border border-red-800/80 bg-red-900/40 p-12 text-center"},N={class:"text-red-400 mb-4"},S={class:"flex gap-3 justify-center"},O={key:2,class:"relative"},U={class:"fixed top-6 left-6 z-50"},z={class:"relative overflow-hidden"},H={key:0,class:"relative h-96 overflow-hidden"},q=["src","alt"],P={class:"relative px-6 py-12"},G={class:"mx-auto max-w-3xl"},J={class:"flex items-center gap-3 mb-6"},K={class:"inline-block rounded-full bg-amber-400/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-amber-300"},Q={class:"text-sm text-slate-400"},W={class:"font-display text-4xl sm:text-5xl lg:text-6xl font-semibold leading-tight mb-6"},X={class:"text-xl text-slate-300 mb-8"},Y={class:"flex items-center gap-4 pb-8 border-b border-slate-800"},Z=["src","alt"],ee={class:"text-lg font-semibold text-slate-100"},te={class:"text-sm text-slate-400"},se={class:"relative px-6 py-12"},oe={class:"mx-auto max-w-3xl"},ae={class:"prose prose-invert prose-slate prose-lg max-w-none"},re=["innerHTML"],le={key:0,class:"mt-12 pt-8 border-t border-slate-800"},ne={class:"flex flex-wrap gap-2"},ie={class:"mt-12 pt-8 border-t border-slate-800"},de={class:"flex gap-3"},ce={class:"mt-12 text-center"},ue=T({__name:"ArticleDetail",setup(me){h.setOptions({breaks:!0,gfm:!0});const f=L(),s=i(null),d=i(!0),n=i(""),c=i(!1),v=async()=>{d.value=!0,n.value="";try{const o=f.params.slug,t=await $.get(`/posts/${o}`);t.data&&(s.value={id:t.data.id,title:t.data.title,slug:t.data.slug,excerpt:t.data.meta_description||t.data.content?.substring(0,200)+"...",content:t.data.content,category:t.data.categories?.[0]?.name||"Sin categoría",categories:t.data.categories||[],image:t.data.image_path?`/storage/${t.data.image_path}`:null,publishedAt:t.data.published_at,readTime:Math.ceil((t.data.content?.split(" ").length||0)/200),author:{name:t.data.user?.name||"Anónimo",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.data.user?.name||"default"}`}})}catch(o){console.error("Error loading article:",o),o.response?.status===404?n.value="Artículo no encontrado":n.value=o.response?.data?.message||"Error al cargar el artículo. Por favor, intente de nuevo."}finally{d.value=!1}},_=D(()=>{if(!s.value?.content)return"";try{return h.parse(s.value.content)}catch(o){return console.error("Error parsing markdown:",o),s.value.content.split(`

`).map(t=>`<p class="mb-6">${t.replace(/\n/g,"<br>")}</p>`).join("")}}),w=o=>new Date(o).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),k=()=>{const o=window.location.href,t=s.value?.title||"";window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(o)}&text=${encodeURIComponent(t)}`,"_blank")},y=()=>{const o=window.location.href;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`,"_blank")},C=async()=>{try{await navigator.clipboard.writeText(window.location.href),c.value=!0,setTimeout(()=>{c.value=!1},2e3)}catch(o){console.error("Error copying link:",o)}};return j(()=>{v()}),(o,t)=>{const u=E("router-link");return r(),l("div",R,[d.value?(r(),l("div",B,[...t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-400 mx-auto"}),e("p",{class:"text-slate-400 mt-4"},"Cargando artículo...")],-1)])])):n.value?(r(),l("div",F,[e("div",I,[e("p",N,a(n.value),1),e("div",S,[e("button",{onClick:v,class:"rounded-lg bg-amber-400/90 px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-amber-300 transition-colors"}," Reintentar "),m(u,{to:"/",class:"rounded-lg bg-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-600 transition-colors"},{default:p(()=>[...t[1]||(t[1]=[b(" Volver al inicio ",-1)])]),_:1})])])])):s.value?(r(),l("article",O,[e("div",U,[m(u,{to:"/",class:"flex items-center gap-2 rounded-full bg-slate-900/90 backdrop-blur px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-800 transition-colors border border-slate-700"},{default:p(()=>[...t[2]||(t[2]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),b(" Volver ",-1)])]),_:1})]),e("section",z,[t[4]||(t[4]=e("div",{class:"absolute inset-0"},[e("div",{class:"absolute -top-40 right-0 h-80 w-80 rounded-full bg-amber-400/10 blur-3xl"}),e("div",{class:"absolute -bottom-20 -left-32 h-96 w-96 rounded-full bg-cyan-500/10 blur-3xl"})],-1)),s.value.image?(r(),l("div",H,[e("img",{src:s.value.image,alt:s.value.title,class:"w-full h-full object-cover opacity-40"},null,8,q),t[3]||(t[3]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"},null,-1))])):x("",!0),e("div",P,[e("div",G,[e("div",J,[e("span",K,a(s.value.category),1),e("span",Q,a(w(s.value.publishedAt)),1)]),e("h1",W,a(s.value.title),1),e("p",X,a(s.value.excerpt),1),e("div",Y,[e("img",{src:s.value.author.avatar,alt:s.value.author.name,class:"h-14 w-14 rounded-full object-cover"},null,8,Z),e("div",null,[e("p",ee,a(s.value.author.name),1),e("p",te,a(s.value.readTime)+" min de lectura",1)])])])])]),e("section",se,[e("div",oe,[e("div",ae,[e("div",{class:"text-slate-300 leading-relaxed whitespace-pre-line",innerHTML:_.value},null,8,re)]),s.value.categories&&s.value.categories.length>0?(r(),l("div",le,[t[5]||(t[5]=e("h3",{class:"text-sm font-semibold uppercase tracking-[0.2em] text-slate-400 mb-4"},"Categorías",-1)),e("div",ne,[(r(!0),l(A,null,V(s.value.categories,g=>(r(),l("span",{key:g.id,class:"inline-block rounded-full border border-slate-700 bg-slate-900/40 px-4 py-2 text-xs font-semibold text-slate-300"},a(g.name),1))),128))])])):x("",!0),e("div",ie,[t[6]||(t[6]=e("h3",{class:"text-sm font-semibold uppercase tracking-[0.2em] text-slate-400 mb-4"},"Compartir",-1)),e("div",de,[e("button",{onClick:k,class:"rounded-lg border border-slate-700 bg-slate-900/40 px-4 py-2 text-sm font-semibold text-slate-300 hover:border-amber-400/30 hover:text-amber-300 transition-colors"}," Twitter "),e("button",{onClick:y,class:"rounded-lg border border-slate-700 bg-slate-900/40 px-4 py-2 text-sm font-semibold text-slate-300 hover:border-amber-400/30 hover:text-amber-300 transition-colors"}," Facebook "),e("button",{onClick:C,class:"rounded-lg border border-slate-700 bg-slate-900/40 px-4 py-2 text-sm font-semibold text-slate-300 hover:border-amber-400/30 hover:text-amber-300 transition-colors"},a(c.value?"¡Copiado!":"Copiar enlace"),1)])]),e("div",ce,[m(u,{to:"/",class:"inline-block rounded-lg bg-amber-400/90 px-6 py-3 text-sm font-semibold uppercase tracking-[0.2em] text-slate-950 hover:bg-amber-300 transition-colors"},{default:p(()=>[...t[7]||(t[7]=[b(" Ver más artículos ",-1)])]),_:1})])])])])):x("",!0)])}}}),ve=M(ue,[["__scopeId","data-v-9b03d1d7"]]);export{ve as default};
